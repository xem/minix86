<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 492</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:19px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page492-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f1481492.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:692px;white-space:nowrap" class="ft00">FPATANâ€”Partial Arctangent</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, A-L</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">3-364&#160;Vol. 2A</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">FPATANâ€”Partial Arctangent</p>
<p style="position:absolute;top:262px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:286px;left:68px;white-space:nowrap" class="ft07">Computes&#160;the arctangent&#160;of&#160;the&#160;source operand in register&#160;ST(1) divided by the source&#160;operand&#160;in register ST(0),&#160;<br/>stores the&#160;result in&#160;ST(1),&#160;and pops the&#160;FPU register&#160;stack.&#160;The result in&#160;register&#160;ST(0) has&#160;the same&#160;sign&#160;as&#160;the&#160;<br/>source operand&#160;ST(1) and&#160;a magnitude less than&#160;+Ï€.<br/>The&#160;FPATAN instruction returns the&#160;angle&#160;between&#160;the X axis and&#160;the line&#160;from&#160;the origin to&#160;the point&#160;(X,Y),&#160;where&#160;<br/>Y (the&#160;ordinate) is&#160;ST(1) and&#160;X (the&#160;abscissa)&#160;is ST(0). The&#160;angle depends on the&#160;sign of X and Y&#160;independently,&#160;not&#160;<br/>just on&#160;the&#160;sign&#160;of&#160;the ratio Y/X.&#160;This&#160;is because a&#160;point (âˆ’X,Y)&#160;is&#160;in&#160;the second quadrant,&#160;resulting&#160;in an angle&#160;</p>
<p style="position:absolute;top:393px;left:68px;white-space:nowrap" class="ft04">between&#160;Ï€/2 and&#160;Ï€, while a point (X,âˆ’Y) is in the fourth quadrant, resulting in an angle between 0&#160;and&#160;âˆ’Ï€/2. A point&#160;</p>
<p style="position:absolute;top:409px;left:68px;white-space:nowrap" class="ft07">(âˆ’X,âˆ’Y)&#160;is in the&#160;third&#160;quadrant, giving&#160;an angle between&#160;âˆ’Ï€/2 and&#160;âˆ’Ï€.<br/>The following table shows&#160;the&#160;results obtained&#160;when&#160;computing&#160;the&#160;arctangent of various classes of numbers,&#160;<br/>assuming&#160;that&#160;underflow does not&#160;occur.</p>
<p style="position:absolute;top:886px;left:68px;white-space:nowrap" class="ft08">There&#160;is no&#160;restriction on the&#160;range of source&#160;operands that&#160;FPATAN&#160;can&#160;accept.<br/>This&#160;instructionâ€™s operation is&#160;the&#160;same in non-64-bit modes and&#160;64-bit mode.</p>
<p style="position:absolute;top:944px;left:68px;white-space:nowrap" class="ft03">IA-32 Architecture&#160;Compatibility</p>
<p style="position:absolute;top:969px;left:68px;white-space:nowrap" class="ft04">The source&#160;operands for this&#160;instruction&#160;are restricted&#160;for&#160;the&#160;80287 math coprocessor to&#160;the following range:</p>
<p style="position:absolute;top:999px;left:68px;white-space:nowrap" class="ft04">0&#160;â‰¤&#160;|ST(1)|&#160;&lt;&#160;|ST(0)|&#160;&lt;&#160;+âˆž</p>
<p style="position:absolute;top:128px;left:73px;white-space:nowrap" class="ft04">Opcode*</p>
<p style="position:absolute;top:128px;left:183px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:128px;left:318px;white-space:nowrap" class="ft04">64-Bit&#160;</p>
<p style="position:absolute;top:143px;left:318px;white-space:nowrap" class="ft04">Mode</p>
<p style="position:absolute;top:128px;left:382px;white-space:nowrap" class="ft04">Compat/</p>
<p style="position:absolute;top:143px;left:382px;white-space:nowrap" class="ft04">Leg&#160;Mode</p>
<p style="position:absolute;top:128px;left:458px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:166px;left:73px;white-space:nowrap" class="ft04">D9&#160;F3</p>
<p style="position:absolute;top:166px;left:183px;white-space:nowrap" class="ft04">FPATAN</p>
<p style="position:absolute;top:166px;left:318px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:166px;left:382px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:166px;left:458px;white-space:nowrap" class="ft04">Replace&#160;ST(1)&#160;with&#160;arctan(ST(1)/ST(0)) and pop the register&#160;stack.</p>
<p style="position:absolute;top:189px;left:73px;white-space:nowrap" class="ft09">NOTES:<br/>*&#160;See&#160;IA-32&#160;Architecture&#160;Compatibility section below.</p>
<p style="position:absolute;top:473px;left:355px;white-space:nowrap" class="ft03">Table 3-30.&#160;&#160;FPATAN Results</p>
<p style="position:absolute;top:498px;left:472px;white-space:nowrap" class="ft04">ST(0)</p>
<p style="position:absolute;top:523px;left:229px;white-space:nowrap" class="ft04">âˆ’</p>
<p style="position:absolute;top:521px;left:237px;white-space:nowrap" class="ft05">&#160;âˆž</p>
<p style="position:absolute;top:523px;left:311px;white-space:nowrap" class="ft04">âˆ’&#160;F</p>
<p style="position:absolute;top:523px;left:422px;white-space:nowrap" class="ft04">âˆ’&#160;0</p>
<p style="position:absolute;top:523px;left:503px;white-space:nowrap" class="ft04">+&#160;0</p>
<p style="position:absolute;top:523px;left:584px;white-space:nowrap" class="ft04">+&#160;F</p>
<p style="position:absolute;top:523px;left:678px;white-space:nowrap" class="ft04">+&#160;</p>
<p style="position:absolute;top:521px;left:689px;white-space:nowrap" class="ft05">âˆž</p>
<p style="position:absolute;top:522px;left:782px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:547px;left:148px;white-space:nowrap" class="ft04">âˆ’</p>
<p style="position:absolute;top:545px;left:155px;white-space:nowrap" class="ft05">&#160;âˆž</p>
<p style="position:absolute;top:547px;left:229px;white-space:nowrap" class="ft04">âˆ’&#160;3Ï€/4</p>
<p style="position:absolute;top:544px;left:267px;white-space:nowrap" class="ft05">*</p>
<p style="position:absolute;top:547px;left:311px;white-space:nowrap" class="ft04">âˆ’ Ï€/2</p>
<p style="position:absolute;top:547px;left:422px;white-space:nowrap" class="ft04">âˆ’ Ï€/2</p>
<p style="position:absolute;top:547px;left:503px;white-space:nowrap" class="ft04">âˆ’ Ï€/2</p>
<p style="position:absolute;top:547px;left:584px;white-space:nowrap" class="ft04">âˆ’ Ï€/2</p>
<p style="position:absolute;top:547px;left:678px;white-space:nowrap" class="ft04">âˆ’ Ï€/4</p>
<p style="position:absolute;top:544px;left:709px;white-space:nowrap" class="ft05">*</p>
<p style="position:absolute;top:546px;left:782px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:570px;left:90px;white-space:nowrap" class="ft04">ST(1)</p>
<p style="position:absolute;top:571px;left:148px;white-space:nowrap" class="ft04">âˆ’&#160;F</p>
<p style="position:absolute;top:570px;left:229px;white-space:nowrap" class="ft04">-p</p>
<p style="position:absolute;top:571px;left:311px;white-space:nowrap" class="ft04">âˆ’Ï€&#160;to&#160;âˆ’Ï€/2</p>
<p style="position:absolute;top:571px;left:422px;white-space:nowrap" class="ft04">âˆ’Ï€/2</p>
<p style="position:absolute;top:571px;left:503px;white-space:nowrap" class="ft04">âˆ’Ï€/2</p>
<p style="position:absolute;top:571px;left:584px;white-space:nowrap" class="ft04">âˆ’Ï€/2&#160;to&#160;âˆ’0</p>
<p style="position:absolute;top:570px;left:678px;white-space:nowrap" class="ft04">-&#160;&#160;0</p>
<p style="position:absolute;top:570px;left:782px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:595px;left:148px;white-space:nowrap" class="ft04">âˆ’&#160;0</p>
<p style="position:absolute;top:594px;left:229px;white-space:nowrap" class="ft04">-p</p>
<p style="position:absolute;top:594px;left:311px;white-space:nowrap" class="ft04">-p</p>
<p style="position:absolute;top:594px;left:422px;white-space:nowrap" class="ft04">-p</p>
<p style="position:absolute;top:594px;left:433px;white-space:nowrap" class="ft05">*</p>
<p style="position:absolute;top:595px;left:503px;white-space:nowrap" class="ft04">âˆ’&#160;0</p>
<p style="position:absolute;top:592px;left:522px;white-space:nowrap" class="ft05">*</p>
<p style="position:absolute;top:595px;left:584px;white-space:nowrap" class="ft04">âˆ’&#160;0</p>
<p style="position:absolute;top:595px;left:678px;white-space:nowrap" class="ft04">âˆ’&#160;0</p>
<p style="position:absolute;top:594px;left:782px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:619px;left:148px;white-space:nowrap" class="ft04">+&#160;0</p>
<p style="position:absolute;top:618px;left:229px;white-space:nowrap" class="ft04">+p</p>
<p style="position:absolute;top:618px;left:310px;white-space:nowrap" class="ft04">+&#160;&#160;p</p>
<p style="position:absolute;top:619px;left:422px;white-space:nowrap" class="ft04">+ Ï€</p>
<p style="position:absolute;top:616px;left:440px;white-space:nowrap" class="ft05">*</p>
<p style="position:absolute;top:619px;left:503px;white-space:nowrap" class="ft04">+&#160;0</p>
<p style="position:absolute;top:616px;left:522px;white-space:nowrap" class="ft05">*</p>
<p style="position:absolute;top:619px;left:584px;white-space:nowrap" class="ft04">+&#160;0</p>
<p style="position:absolute;top:619px;left:678px;white-space:nowrap" class="ft04">+&#160;0</p>
<p style="position:absolute;top:618px;left:782px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:643px;left:148px;white-space:nowrap" class="ft04">+&#160;F</p>
<p style="position:absolute;top:642px;left:229px;white-space:nowrap" class="ft04">+p</p>
<p style="position:absolute;top:643px;left:310px;white-space:nowrap" class="ft04">+Ï€&#160;to&#160;+Ï€/2</p>
<p style="position:absolute;top:643px;left:422px;white-space:nowrap" class="ft04">+ Ï€/2</p>
<p style="position:absolute;top:643px;left:503px;white-space:nowrap" class="ft04">+Ï€/2</p>
<p style="position:absolute;top:643px;left:584px;white-space:nowrap" class="ft04">+Ï€/2&#160;to&#160;+0</p>
<p style="position:absolute;top:643px;left:678px;white-space:nowrap" class="ft04">+&#160;0</p>
<p style="position:absolute;top:642px;left:782px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:667px;left:148px;white-space:nowrap" class="ft04">+</p>
<p style="position:absolute;top:665px;left:155px;white-space:nowrap" class="ft05">&#160;âˆž</p>
<p style="position:absolute;top:667px;left:229px;white-space:nowrap" class="ft04">+3Ï€/4</p>
<p style="position:absolute;top:664px;left:264px;white-space:nowrap" class="ft05">*</p>
<p style="position:absolute;top:667px;left:311px;white-space:nowrap" class="ft04">+Ï€/2</p>
<p style="position:absolute;top:667px;left:422px;white-space:nowrap" class="ft04">+Ï€/2</p>
<p style="position:absolute;top:667px;left:503px;white-space:nowrap" class="ft04">+Ï€/2</p>
<p style="position:absolute;top:667px;left:584px;white-space:nowrap" class="ft04">+ Ï€/2</p>
<p style="position:absolute;top:667px;left:678px;white-space:nowrap" class="ft04">+ Ï€/4</p>
<p style="position:absolute;top:664px;left:709px;white-space:nowrap" class="ft05">*</p>
<p style="position:absolute;top:666px;left:782px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:690px;left:170px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:690px;left:252px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:690px;left:348px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:690px;left:444px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:690px;left:526px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:690px;left:613px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:690px;left:701px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:690px;left:782px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:714px;left:76px;white-space:nowrap" class="ft01">NOTES:</p>
<p style="position:absolute;top:733px;left:76px;white-space:nowrap" class="ft09">F&#160;Means finite&#160;floating-point&#160;value.<br/>*&#160;Table 8-10 in&#160;the&#160;<a href="þÿ"><i>IntelÂ® 64 and&#160;IA-32&#160;Architectures Software&#160;Developerâ€™s Manual, Volume 1</i></a>,&#160;specifies that&#160;the&#160;ratios&#160;0/0 and&#160;</p>
<p style="position:absolute;top:752px;left:800px;white-space:nowrap" class="ft05">âˆž</p>
<p style="position:absolute;top:753px;left:810px;white-space:nowrap" class="ft04">/</p>
<p style="position:absolute;top:752px;left:815px;white-space:nowrap" class="ft05">âˆž</p>
<p style="position:absolute;top:753px;left:826px;white-space:nowrap" class="ft04">&#160;</p>
<p style="position:absolute;top:769px;left:90px;white-space:nowrap" class="ft04">generate the&#160;floating-point&#160;invalid arithmetic-operation&#160;exception&#160;and,&#160;if&#160;this&#160;exception&#160;is masked,&#160;the&#160;floating-point&#160;QNaN&#160;indefi-</p>
<p style="position:absolute;top:786px;left:90px;white-space:nowrap" class="ft04">nite value is returned.&#160;With the&#160;FPATAN&#160;instruction,&#160;the&#160;0/0 or&#160;</p>
<p style="position:absolute;top:785px;left:447px;white-space:nowrap" class="ft05">âˆž</p>
<p style="position:absolute;top:786px;left:458px;white-space:nowrap" class="ft04">/</p>
<p style="position:absolute;top:785px;left:462px;white-space:nowrap" class="ft05">âˆž</p>
<p style="position:absolute;top:786px;left:473px;white-space:nowrap" class="ft04">&#160;value is actually not calculated&#160;using division. Instead, the arc-</p>
<p style="position:absolute;top:802px;left:90px;white-space:nowrap" class="ft04">tangent of&#160;the two variables&#160;is derived from&#160;a&#160;standard&#160;mathematical formulation&#160;that&#160;is generalized to&#160;allow complex&#160;numbers&#160;as&#160;</p>
<p style="position:absolute;top:819px;left:90px;white-space:nowrap" class="ft04">arguments.&#160;In&#160;this&#160;complex variable&#160;formulation,&#160;arctangent(0,0) etc.&#160;has well defined values.&#160;These values&#160;are&#160;needed&#160;to&#160;develop&#160;</p>
<p style="position:absolute;top:835px;left:90px;white-space:nowrap" class="ft04">a&#160;library to&#160;compute transcendental functions with complex arguments,&#160;based on the FPU functions&#160;that&#160;only allow floating-point&#160;</p>
<p style="position:absolute;top:852px;left:90px;white-space:nowrap" class="ft04">values&#160;as&#160;arguments.</p>
</div>
</body>
</html>
