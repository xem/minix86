<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1063</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:18px;font-family:Times;color:#0860a8;}
	.ft07{font-size:12px;font-family:Times;color:#0860a8;}
	.ft08{font-size:8px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:21px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1063-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1063.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3C&#160;24-17</p>
<p style="position:absolute;top:47px;left:591px;white-space:nowrap" class="ft01">VIRTUAL MACHINE CONTROL STRUCTURES</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:100px;left:95px;white-space:nowrap" class="ft09"><b>EPTP index</b>&#160;(16&#160;bits).&#160;When&#160;an&#160;EPT&#160;violation&#160;causes&#160;a&#160;virtualization exception, the processor writes the value&#160;<br/>of this&#160;field to&#160;the virtualization-exception&#160;information&#160;area. The EPTP-switching VM function&#160;updates this field&#160;<br/>(see<a href="o_fe12b1e2a880e0ce-1088.html">&#160;Section 25.5.5.3).</a></p>
<p style="position:absolute;top:184px;left:69px;white-space:nowrap" class="ft05">24.6.19 XSS-Exiting&#160;</p>
<p style="position:absolute;top:184px;left:248px;white-space:nowrap" class="ft05">Bitmap</p>
<p style="position:absolute;top:214px;left:69px;white-space:nowrap" class="ft09">On&#160;processors&#160;that support the&#160;1-setting of the&#160;‚Äúenable&#160;XSAVES/XRSTORS‚Äù&#160;VM-execution&#160;control, the&#160;VM-execu-<br/>tion control fields include a&#160;64-bit&#160;<b>XSS-exiting bitmap</b>. If&#160;the ‚Äúenable XSAVES/XRSTORS‚Äù VM-execution&#160;control is&#160;<br/>1,&#160;executions of XSAVES and&#160;XRSTORS may consult this&#160;bitmap&#160;(see<a href="o_fe12b1e2a880e0ce-1076.html">&#160;Section&#160;25.1.3 and&#160;</a><a href="o_fe12b1e2a880e0ce-1080.html">Section 25.3).</a></p>
<p style="position:absolute;top:297px;left:69px;white-space:nowrap" class="ft06">24.7&#160;</p>
<p style="position:absolute;top:297px;left:148px;white-space:nowrap" class="ft06">VM-EXIT CONTROL FIELDS</p>
<p style="position:absolute;top:333px;left:69px;white-space:nowrap" class="ft09">The VM-exit control&#160;fields&#160;govern&#160;the behavior of&#160;VM&#160;exits. They&#160;are discussed&#160;<a href="o_fe12b1e2a880e0ce-1063.html">in Section 24.7.1</a>&#160;<a href="o_fe12b1e2a880e0ce-1064.html">and Section&#160;<br/>24.7.2.</a></p>
<p style="position:absolute;top:394px;left:69px;white-space:nowrap" class="ft05">24.7.1 VM-Exit&#160;</p>
<p style="position:absolute;top:394px;left:217px;white-space:nowrap" class="ft05">Controls</p>
<p style="position:absolute;top:424px;left:69px;white-space:nowrap" class="ft09">The&#160;<b>VM-exit&#160;controls</b>&#160;constitute&#160;a 32-bit vector that governs the&#160;basic operation of VM&#160;<a href="o_fe12b1e2a880e0ce-1063.html">exits. Table 24-10 li</a>sts the&#160;<br/>controls&#160;supported.&#160;Se<a href="o_fe12b1e2a880e0ce-1119.html">e Chapter&#160;27&#160;for&#160;</a>complete&#160;details of how these&#160;controls affect&#160;VM&#160;exits.&#160;</p>
<p style="position:absolute;top:464px;left:300px;white-space:nowrap" class="ft07">Table&#160;24-10.&#160;&#160;Definitions of&#160;VM-Exit&#160;Controls</p>
<p style="position:absolute;top:489px;left:75px;white-space:nowrap" class="ft04">Bit&#160;Position(s)&#160;Name</p>
<p style="position:absolute;top:489px;left:295px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:513px;left:75px;white-space:nowrap" class="ft04">2</p>
<p style="position:absolute;top:513px;left:173px;white-space:nowrap" class="ft04">Save&#160;debug&#160;</p>
<p style="position:absolute;top:529px;left:173px;white-space:nowrap" class="ft04">controls</p>
<p style="position:absolute;top:513px;left:295px;white-space:nowrap" class="ft010">This control determines&#160;whether DR7 and the&#160;IA32_DEBUGCTL MSR&#160;are&#160;saved on&#160;VM&#160;exit.<br/>The first processors to&#160;support the&#160;virtual-machine&#160;extensions supported only the 1-setting&#160;</p>
<p style="position:absolute;top:550px;left:295px;white-space:nowrap" class="ft04">of&#160;this&#160;control.</p>
<p style="position:absolute;top:574px;left:75px;white-space:nowrap" class="ft04">9</p>
<p style="position:absolute;top:574px;left:173px;white-space:nowrap" class="ft04">Host address-</p>
<p style="position:absolute;top:591px;left:173px;white-space:nowrap" class="ft04">space size</p>
<p style="position:absolute;top:574px;left:295px;white-space:nowrap" class="ft04">On processors that&#160;support Intel 64 architecture, this control determines&#160;whether a logical&#160;</p>
<p style="position:absolute;top:591px;left:295px;white-space:nowrap" class="ft04">processor is&#160;in&#160;64-bit mode&#160;after&#160;the&#160;next&#160;VM exit. Its value is loaded into&#160;CS.L,&#160;</p>
<p style="position:absolute;top:607px;left:295px;white-space:nowrap" class="ft04">IA32_EFER.LME,&#160;and&#160;IA32_EFER.LMA&#160;on&#160;every VM&#160;exit.</p>
<p style="position:absolute;top:604px;left:608px;white-space:nowrap" class="ft08">1</p>
<p style="position:absolute;top:628px;left:295px;white-space:nowrap" class="ft04">This control must&#160;be 0 on processors that&#160;do not support Intel 64 architecture.</p>
<p style="position:absolute;top:652px;left:75px;white-space:nowrap" class="ft04">12</p>
<p style="position:absolute;top:652px;left:173px;white-space:nowrap" class="ft04">Load&#160;</p>
<p style="position:absolute;top:669px;left:173px;white-space:nowrap" class="ft04">IA32_PERF_GLOB</p>
<p style="position:absolute;top:685px;left:173px;white-space:nowrap" class="ft04">AL_CTRL</p>
<p style="position:absolute;top:652px;left:295px;white-space:nowrap" class="ft04">This control determines&#160;whether the IA32_PERF_GLOBAL_CTRL MSR&#160;is&#160;loaded&#160;on&#160;VM&#160;exit.</p>
<p style="position:absolute;top:709px;left:75px;white-space:nowrap" class="ft04">15</p>
<p style="position:absolute;top:709px;left:173px;white-space:nowrap" class="ft04">Acknowledge&#160;</p>
<p style="position:absolute;top:726px;left:173px;white-space:nowrap" class="ft04">interrupt&#160;on&#160;exit</p>
<p style="position:absolute;top:709px;left:295px;white-space:nowrap" class="ft011">This control affects VM&#160;exits due to&#160;external interrupts:<br/>‚Ä¢&#160;If such a VM exit occurs and this&#160;control&#160;is&#160;1, the logical processor acknowledges&#160;the&#160;</p>
<p style="position:absolute;top:745px;left:310px;white-space:nowrap" class="ft04">interrupt controller, acquiring the interrupt‚Äôs vector. The vector is stored in the VM-exit&#160;</p>
<p style="position:absolute;top:760px;left:310px;white-space:nowrap" class="ft04">interruption-information&#160;field,&#160;which&#160;is&#160;marked&#160;valid.</p>
<p style="position:absolute;top:775px;left:295px;white-space:nowrap" class="ft04">‚Ä¢&#160;If&#160;such&#160;a VM&#160;exit&#160;occurs&#160;and&#160;this&#160;control&#160;is&#160;0, the interrupt is&#160;not acknowledged&#160;and&#160;the&#160;</p>
<p style="position:absolute;top:790px;left:310px;white-space:nowrap" class="ft04">VM-exit&#160;interruption-information&#160;field&#160;is marked&#160;invalid.</p>
<p style="position:absolute;top:814px;left:75px;white-space:nowrap" class="ft04">18</p>
<p style="position:absolute;top:814px;left:173px;white-space:nowrap" class="ft04">Save&#160;IA32_PAT</p>
<p style="position:absolute;top:814px;left:295px;white-space:nowrap" class="ft04">This control determines&#160;whether the&#160;IA32_PAT&#160;MSR is saved&#160;on VM&#160;exit.</p>
<p style="position:absolute;top:838px;left:75px;white-space:nowrap" class="ft04">19</p>
<p style="position:absolute;top:838px;left:173px;white-space:nowrap" class="ft04">Load&#160;IA32_PAT</p>
<p style="position:absolute;top:838px;left:295px;white-space:nowrap" class="ft04">This control determines&#160;whether the IA32_PAT&#160;MSR is&#160;loaded&#160;on&#160;VM&#160;exit.</p>
<p style="position:absolute;top:862px;left:75px;white-space:nowrap" class="ft04">20</p>
<p style="position:absolute;top:862px;left:173px;white-space:nowrap" class="ft04">Save&#160;IA32_EFER</p>
<p style="position:absolute;top:862px;left:295px;white-space:nowrap" class="ft04">This control determines&#160;whether the&#160;IA32_EFER MSR is saved&#160;on&#160;VM&#160;exit.</p>
<p style="position:absolute;top:886px;left:75px;white-space:nowrap" class="ft04">21</p>
<p style="position:absolute;top:886px;left:173px;white-space:nowrap" class="ft04">Load&#160;IA32_EFER</p>
<p style="position:absolute;top:886px;left:294px;white-space:nowrap" class="ft04">This control determines&#160;whether the IA32_EFER&#160;MSR is&#160;loaded&#160;on&#160;VM&#160;exit.</p>
<p style="position:absolute;top:910px;left:75px;white-space:nowrap" class="ft04">22</p>
<p style="position:absolute;top:910px;left:173px;white-space:nowrap" class="ft04">Save&#160;VMX-</p>
<p style="position:absolute;top:926px;left:173px;white-space:nowrap" class="ft04">preemption timer&#160;</p>
<p style="position:absolute;top:943px;left:173px;white-space:nowrap" class="ft04">value</p>
<p style="position:absolute;top:910px;left:295px;white-space:nowrap" class="ft04">This control determines&#160;whether the value&#160;of&#160;the&#160;VMX-preemption timer&#160;is saved on&#160;VM&#160;exit.</p>
<p style="position:absolute;top:967px;left:75px;white-space:nowrap" class="ft04">23</p>
<p style="position:absolute;top:967px;left:173px;white-space:nowrap" class="ft04">Clear&#160;</p>
<p style="position:absolute;top:984px;left:173px;white-space:nowrap" class="ft04">IA32_BNDCFGS</p>
<p style="position:absolute;top:967px;left:295px;white-space:nowrap" class="ft04">This control determines&#160;whether the IA32_BNDCFGS MSR&#160;is cleared on&#160;VM&#160;exit.</p>
<p style="position:absolute;top:1007px;left:75px;white-space:nowrap" class="ft04">24</p>
<p style="position:absolute;top:1007px;left:173px;white-space:nowrap" class="ft04">Conceal&#160;VM&#160;exits&#160;</p>
<p style="position:absolute;top:1024px;left:173px;white-space:nowrap" class="ft04">from&#160;Intel PT</p>
<p style="position:absolute;top:1007px;left:295px;white-space:nowrap" class="ft04">If&#160;this&#160;control is&#160;1,&#160;Intel Processor Trace&#160;does&#160;not produce a paging information packet&#160;(PIP)&#160;on&#160;</p>
<p style="position:absolute;top:1024px;left:295px;white-space:nowrap" class="ft04">a VM ex<a href="˛ˇ">it (see Chapter&#160;36).</a></p>
</div>
</body>
</html>
